TO DO: 
1) fix callbacks
1) rename pedestrain, chauffeur to portfolio, market
1) write tests: corner cases, most well-known cases
1) hyperparam tuning