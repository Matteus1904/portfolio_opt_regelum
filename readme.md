TO DO: 
1) write tests: corner cases, most well-known cases
1) develop the opportunity to get market fixed or random via configs
1) hyperparam tuning